

<div id="popupSettings" class="overlay">
    <div class="popup">
        <h2>Settings</h2>
        <a class="close" href="#">&times;</a>
        <div class="scroll-content">

            <form id="settings-form" class="popup-form">
                <div>
                    <label for="temperature">Temperature:</label>
                    <input required type="number" id="temperature" name="temperature" min="0" step="0.01" value="{{temperature}}" placeholder="0.7">
                </div>
                <div class="param-help">
                    Adjust the randomness of the generated text
                </div>
                <div>
                    <label for="min_p">Min p:</label>
                    <input required type="number" id="min_p" name="min_p" step="0.05" value="{{min_p}}" placeholder="0.1">
                </div>
                <div class="param-help">
                    The minimum probability for a token to be considered, relative to the probability of the most likely token (default: 0.1, 0.0 = disabled)
                </div>
                <div>
                    <label for="repeat_last_n">Repeat last n:</label>
                    <input required type="number" id="repeat_last_n" name="repeat_last_n" value="{{repeat_last_n}}" placeholder="256">
                </div>
                <div class="param-help">
                    Last n tokens to consider for penalizing repetition (default: 256, 0 = disabled, -1 = ctx-size)
                </div>
                <div>
                    <label for="repeat_penalty">Repeat penalty:</label>
                    <input required type="number" id="repeat_penalty" name="repeat_penalty" step="0.01" value="{{repeat_penalty}}" placeholder="1.1">
                </div>
                <div class="param-help">
                    Control the repetition of token sequences in the generated text (default: 1.1, 1.0 = disabled)
                </div>
                <div>
                    <label for="top_k">Top k:</label>
                    <input required type="number" id="top_k" name="top_k" value="{{top_k}}" placeholder="40">
                </div>
                <div class="param-help">
                    Limit the next token selection to the K most probable tokens (default: 40, 0 = disabled).
                </div>
                <div>
                    <label for="top_p">Top p:</label>
                    <input required type="number" id="top_p" name="top_p" step="0.01" value="{{top_p}}" placeholder="0.9">
                </div>
                <div class="param-help">
                    Limit the next token selection to a subset of tokens with a cumulative probability above a threshold P (default: 0.9, 1.0 = disabled).
                </div>
                <div>
                    <label for="system_prompt">System prompt:</label>
                    <textarea id="system_prompt" name="system_prompt" rows="8">{{system_prompt}}</textarea>
                </div>
                <div class="param-help">
                    Set the system prompt for the conversation
                </div>
                <div>
                    <label for="grammar">Grammar:</label>
                    <textarea id="grammar" name="grammar" rows="4" cols="{{grammar}}"></textarea>
                </div>
                <div class="param-help">
                    Set grammar for grammar-based sampling (default: no grammar)
                </div>

                <div class="param-help">
                    <a href="#" id="reset-settings">Reset Settings</a>
                </div>
            </form>


        </div>
    </div>
</div>